{"version":3,"file":"types.js","sourceRoot":"","sources":["../../../../src/project/versioned/v0_3_0/types.ts"],"names":[],"mappings":";AAAA,gEAAgE;AAChE,sCAAsC;;;AAEtC,sDAU6B;AA4B7B,SAAgB,yBAAyB,CAAC,UAAiC;IACzE,OAAO,CACL,UAAU,CAAC,IAAI,KAAK,wCAAyB,CAAC,OAAO,IAAI,CAAC,CAAE,UAAsC,CAAC,OAAO,CAAC,IAAI,CAChH,CAAC;AACJ,CAAC;AAJD,8DAIC","sourcesContent":["// Copyright 2020-2022 OnFinality Limited authors & contributors\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n  SubqlCosmosCustomDatasource,\n  SubqlCosmosCustomHandler,\n  SubqlCosmosDatasource,\n  SubqlCosmosDatasourceKind,\n  SubqlCosmosHandler,\n  SubqlCosmosMapping,\n  SubqlCosmosRuntimeDatasource,\n  SubqlCosmosRuntimeHandler,\n  CustomModule,\n} from '@subql/types-cosmos';\nimport {ICosmosProjectManifest} from '../../types';\n\nexport interface SubqlMappingV0_3_0<T extends SubqlCosmosHandler> extends SubqlCosmosMapping<T> {\n  file: string;\n}\n\nexport type RuntimeDataSourceV0_3_0 = SubqlCosmosRuntimeDatasource<SubqlMappingV0_3_0<SubqlCosmosRuntimeHandler>>;\nexport type CustomDatasourceV0_3_0 = SubqlCosmosCustomDatasource<string, SubqlMappingV0_3_0<SubqlCosmosCustomHandler>>;\n\nexport interface CosmosProjectManifestV0_3_0 extends ICosmosProjectManifest {\n  name: string;\n  version: string;\n  schema: {\n    file: string;\n  };\n\n  network: {\n    endpoint?: string;\n    dictionary?: string;\n    bypassBlocks?: (number | string)[];\n    chainId: string;\n    chainTypes?: Map<string, CustomModule>;\n  };\n\n  dataSources: (RuntimeDataSourceV0_3_0 | CustomDatasourceV0_3_0)[];\n}\n\nexport function isRuntimeDataSourceV0_3_0(dataSource: SubqlCosmosDatasource): dataSource is RuntimeDataSourceV0_3_0 {\n  return (\n    dataSource.kind === SubqlCosmosDatasourceKind.Runtime && !!(dataSource as RuntimeDataSourceV0_3_0).mapping.file\n  );\n}\n"]}