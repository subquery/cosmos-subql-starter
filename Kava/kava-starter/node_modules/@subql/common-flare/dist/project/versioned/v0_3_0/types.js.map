{"version":3,"file":"types.js","sourceRoot":"","sources":["../../../../src/project/versioned/v0_3_0/types.ts"],"names":[],"mappings":";AAAA,gEAAgE;AAChE,sCAAsC;;;AAEtC,oDAS4B;AA8B5B,SAAgB,yBAAyB,CAAC,UAA2B;IACnE,OAAO,UAAU,CAAC,IAAI,KAAK,oCAAsB,CAAC,OAAO,IAAI,CAAC,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC;AACzF,CAAC;AAFD,8DAEC","sourcesContent":["// Copyright 2020-2022 OnFinality Limited authors & contributors\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n  SubqlCustomDatasource,\n  SubqlCustomHandler,\n  SubqlDatasource,\n  EthereumDatasourceKind,\n  SubqlHandler,\n  SubqlMapping,\n  SubqlRuntimeDatasource,\n  SubqlRuntimeHandler,\n} from '@subql/types-flare';\nimport {IEthereumProjectManifest} from '../../types';\nimport {RuntimeDataSourceV0_2_0, CustomDatasourceV0_2_0} from '../v0_2_0/types';\n\nexport interface SubqlMappingV0_3_0<T extends SubqlHandler> extends SubqlMapping<T> {\n  file: string;\n}\n\nexport type RuntimeDataSourceV0_3_0 = SubqlRuntimeDatasource<SubqlMappingV0_3_0<SubqlRuntimeHandler>>;\nexport type CustomDatasourceV0_3_0 = SubqlCustomDatasource<string, SubqlMappingV0_3_0<SubqlCustomHandler>>;\n\nexport interface EthereumProjectManifestV0_3_0 extends IEthereumProjectManifest {\n  name: string;\n  version: string;\n  schema: {\n    file: string;\n  };\n\n  network: {\n    genesisHash: string;\n    endpoint?: string | string[];\n    dictionary?: string;\n    chaintypes?: {\n      file: string;\n    };\n  };\n\n  dataSources: (RuntimeDataSourceV0_2_0 | CustomDatasourceV0_2_0)[];\n}\n\nexport function isRuntimeDataSourceV0_3_0(dataSource: SubqlDatasource): dataSource is RuntimeDataSourceV0_2_0 {\n  return dataSource.kind === EthereumDatasourceKind.Runtime && !!dataSource.mapping.file;\n}\n"]}