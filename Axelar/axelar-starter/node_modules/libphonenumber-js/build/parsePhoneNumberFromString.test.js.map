{"version":3,"file":"parsePhoneNumberFromString.test.js","names":["parsePhoneNumberFromString","parameters","push","metadata","_parsePhoneNumberFromString","apply","USE_NON_GEOGRAPHIC_COUNTRY_CODE","describe","it","nationalNumber","should","equal","expect","to","be","undefined","phoneNumber","number","country","countryCallingCode","defaultCallingCode","isPossible","phoneNumber2","testCorrectness","expectedResult","result","extract","defaultCountry","not","isValid"],"sources":["../source/parsePhoneNumberFromString.test.js"],"sourcesContent":["import _parsePhoneNumberFromString from './parsePhoneNumberFromString.js'\r\nimport metadata from '../metadata.min.json' assert { type: 'json' }\r\n\r\nfunction parsePhoneNumberFromString(...parameters) {\r\n\tparameters.push(metadata)\r\n\treturn _parsePhoneNumberFromString.apply(this, parameters)\r\n}\r\n\r\nconst USE_NON_GEOGRAPHIC_COUNTRY_CODE = false\r\n\r\ndescribe('parsePhoneNumberFromString', () => {\r\n\tit('should parse phone numbers from string', () => {\r\n\t\tparsePhoneNumberFromString('Phone: 8 (800) 555 35 35.', 'RU').nationalNumber.should.equal('8005553535')\r\n\t\texpect(parsePhoneNumberFromString('3', 'RU')).to.be.undefined\r\n\t})\r\n\r\n\tit('should work in edge cases', () => {\r\n\t\texpect(parsePhoneNumberFromString('')).to.be.undefined\r\n\t})\r\n\r\n\tit('should parse phone numbers when invalid country code is passed', () => {\r\n\t\tparsePhoneNumberFromString('Phone: +7 (800) 555 35 35.', 'XX').nationalNumber.should.equal('8005553535')\r\n\t\texpect(parsePhoneNumberFromString('Phone: 8 (800) 555-35-35.', 'XX')).to.be.undefined\r\n\t})\r\n\r\n\r\n\tit('should parse non-geographic numbering plan phone numbers (extended)', () => {\r\n\t\tconst phoneNumber = parsePhoneNumberFromString('+870773111632')\r\n\t\tphoneNumber.number.should.equal('+870773111632')\r\n\t\tif (USE_NON_GEOGRAPHIC_COUNTRY_CODE) {\r\n\t\t\tphoneNumber.country.should.equal('001')\r\n\t\t} else {\r\n\t\t\texpect(phoneNumber.country).to.be.undefined\r\n\t\t}\r\n\t\tphoneNumber.countryCallingCode.should.equal('870')\r\n\t})\r\n\r\n\tit('should parse non-geographic numbering plan phone numbers (default country code) (extended)', () => {\r\n\t\tconst phoneNumber = parsePhoneNumberFromString('773111632', { defaultCallingCode: '870' })\r\n\t\tphoneNumber.number.should.equal('+870773111632')\r\n\t\tif (USE_NON_GEOGRAPHIC_COUNTRY_CODE) {\r\n\t\t\tphoneNumber.country.should.equal('001')\r\n\t\t} else {\r\n\t\t\texpect(phoneNumber.country).to.be.undefined\r\n\t\t}\r\n\t\tphoneNumber.countryCallingCode.should.equal('870')\r\n\t})\r\n\r\n\tit('should determine the possibility of non-geographic phone numbers', () => {\r\n\t\tconst phoneNumber = parsePhoneNumberFromString('+870773111632')\r\n\t\tphoneNumber.isPossible().should.equal(true)\r\n\t\tconst phoneNumber2 = parsePhoneNumberFromString('+8707731116321')\r\n\t\tphoneNumber2.isPossible().should.equal(false)\r\n\t})\r\n\r\n\tit('should support `extract: false` flag', () => {\r\n\t\tconst testCorrectness = (number, expectedResult) => {\r\n\t\t\tconst result = expect(parsePhoneNumberFromString(number, { extract: false, defaultCountry: 'US' }))\r\n\t\t\tif (expectedResult) {\r\n\t\t\t\tresult.to.not.be.undefined\r\n\t\t\t} else {\r\n\t\t\t\tresult.to.be.undefined\r\n\t\t\t}\r\n\t\t}\r\n\t\ttestCorrectness('Call: (213) 373-4253', false)\r\n\t\ttestCorrectness('(213) 373-4253x', false)\r\n\t\ttestCorrectness('(213) 373-4253', true)\r\n\t\ttestCorrectness('- (213) 373-4253 -', true)\r\n\t\ttestCorrectness('+1 (213) 373-4253', true)\r\n\t\ttestCorrectness(' +1 (213) 373-4253', false)\r\n\t})\r\n\r\n\tit('should not prematurely strip a possible national prefix from Chinese numbers', () => {\r\n\t\t// https://gitlab.com/catamphetamine/libphonenumber-js/-/issues/57\r\n\t\tconst phoneNumber = parsePhoneNumberFromString('+86123456789')\r\n\t\tphoneNumber.isPossible().should.equal(true)\r\n\t\tphoneNumber.isValid().should.equal(false)\r\n\t\tphoneNumber.nationalNumber.should.equal('123456789')\r\n\t})\r\n})\r\n"],"mappings":"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"}