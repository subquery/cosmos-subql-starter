{"version":3,"file":"is-string-or-object.validation.js","sourceRoot":"","sources":["../../../src/project/validation/is-string-or-object.validation.ts"],"names":[],"mappings":";AAAA,gEAAgE;AAChE,sCAAsC;;;AAEtC,qDAAqE;AAErE,SAAgB,gBAAgB,CAAC,iBAAqC;IACpE,OAAO,UAAU,MAAc,EAAE,YAAoB;QACnD,IAAA,mCAAiB,EAAC;YAChB,IAAI,EAAE,kBAAkB;YACxB,MAAM,EAAE,MAAM,CAAC,WAAW;YAC1B,YAAY,EAAE,YAAY;YAC1B,WAAW,EAAE,EAAE;YACf,OAAO,EAAE,iBAAiB;YAC1B,SAAS,EAAE;gBACT,QAAQ,CAAC,KAAU;oBACjB,OAAO,OAAO,KAAK,KAAK,QAAQ,IAAI,CAAC,OAAO,KAAK,KAAK,QAAQ,IAAI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;gBACnG,CAAC;gBACD,cAAc;oBACZ,MAAM,IAAI,KAAK,CAAC,GAAG,YAAY,4BAA4B,CAAC,CAAC;gBAC/D,CAAC;aACF;SACF,CAAC,CAAC;IACL,CAAC,CAAC;AACJ,CAAC;AAlBD,4CAkBC","sourcesContent":["// Copyright 2020-2021 OnFinality Limited authors & contributors\n// SPDX-License-Identifier: Apache-2.0\n\nimport {registerDecorator, ValidationOptions} from 'class-validator';\n\nexport function IsStringOrObject(validationOptions?: ValidationOptions) {\n  return function (object: Object, propertyName: string) {\n    registerDecorator({\n      name: 'IsStringOrObject',\n      target: object.constructor,\n      propertyName: propertyName,\n      constraints: [],\n      options: validationOptions,\n      validator: {\n        validate(value: any) {\n          return typeof value === 'string' || (typeof value === 'object' && Object.keys(value).length > 0);\n        },\n        defaultMessage() {\n          throw new Error(`${propertyName} must by string or object!`);\n        },\n      },\n    });\n  };\n}\n"]}